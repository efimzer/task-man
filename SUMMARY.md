# üéâ –†–µ–∑—é–º–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

**–ß—Ç–æ –±—ã–ª–æ:**
- –î–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è–ª–∏—Å—å —á–µ—Ä–µ–∑ 30+ –º–∏–Ω—É—Ç
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ "–∏—Å—á–µ–∑–∞–ª–∏" –∏–∑ –±–∞–∑—ã
- States –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å

**–†–µ—à–µ–Ω–∏–µ:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –æ—Ç –º–∞—Å—Å–∏–≤–∞ users –∫ –æ–±—ä–µ–∫—Ç—É
- –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
- –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –î–≤–æ–π–Ω–æ–π –ª–æ–≥–∏–Ω
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

**–ß—Ç–æ –±—ã–ª–æ:**
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ /web —Ç—Ä–µ–±–æ–≤–∞–ª–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /auth
- –ù—É–∂–Ω–æ –±—ã–ª–æ –ª–æ–≥–∏–Ω–∏—Ç—å—Å—è –¥–≤–∞–∂–¥—ã: –Ω–∞ /auth –∏ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ

**–†–µ—à–µ–Ω–∏–µ:**
```javascript
// –£–ë–†–ê–õ–ò requireAuth middleware —Å —Ä–æ—É—Ç–æ–≤
app.use('/web', express.static(join(rootDir, 'web')));
app.use('/scripts', express.static(join(rootDir, 'scripts')));
app.use('/styles', express.static(join(rootDir, 'styles')));
```

**–¢–µ–ø–µ—Ä—å:**
- ‚úÖ –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ /web
- ‚úÖ –û–¥–∏–Ω –ª–æ–≥–∏–Ω –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
- ‚úÖ API endpoints –æ—Å—Ç–∞–ª–∏—Å—å –∑–∞—â–∏—â–µ–Ω–Ω—ã–º–∏

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **server/index.js**
   - –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
   - –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
   - Debug endpoint
   - –£–±—Ä–∞–Ω requireAuth —Å /web, /scripts, /styles

2. **server/storage.json**
   - –°–±—Ä–æ—à–µ–Ω –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ

3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
   - QUICK_START.md
   - CHECKLIST.md
   - DEBUGGING.md
   - DEPLOY.md
   - CHANGES.md
   - SUMMARY.md (—ç—Ç–æ—Ç —Ñ–∞–π–ª)

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. Commit –∏ Push
```bash
cd /Users/efimzer/todo-ext
git add .
git commit -m "Fix: Data persistence, migration and remove double login"
git push origin main
```

### 2. –î–æ–∂–¥–∞—Ç—å—Å—è –¥–µ–ø–ª–æ—è –≤ Render (~5-10 –º–∏–Ω—É—Ç)

### 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
–û—Ç–∫—Ä—ã—Ç—å: https://task-man-rf22.onrender.com/web

- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –ë–ï–ó —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞
- ‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤—Ö–æ–¥–∞
- ‚úÖ –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É
- ‚úÖ –í—ã–π—Ç–∏ –∏ –≤–æ–π—Ç–∏ —Å–Ω–æ–≤–∞
- ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è!

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ:
- ‚ùå –î–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è–ª–∏—Å—å
- ‚ùå –î–≤–æ–π–Ω–æ–π –ª–æ–≥–∏–Ω
- ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏—Å—á–µ–∑–∞–ª–∏

### –ü–æ—Å–ª–µ:
- ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ
- ‚úÖ –û–¥–∏–Ω –ª–æ–≥–∏–Ω
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –≤ –±–∞–∑–µ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π backup
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏
- ‚úÖ –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ /web

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å:
```bash
curl https://task-man-rf22.onrender.com/api/debug/stats
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
```json
{
  "users": X,
  "states": X,  // —Ä–∞–≤–Ω–æ users!
  "sessions": Y,
  "userEmails": ["..."],
  "stateEmails": ["..."]  // —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å userEmails
}
```

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ Render
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å debug endpoint
3. –°–º–æ—Ç—Ä–µ—Ç—å DEBUGGING.md

---

**–í—Å–µ –≥–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é! üöÄ**
