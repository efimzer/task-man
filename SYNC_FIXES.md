# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

## –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã:

### 1. ‚ùå GET /state –≤–æ–∑–≤—Ä–∞—â–∞–ª HTML –≤–º–µ—Å—Ç–æ JSON
**–ü—Ä–∏—á–∏–Ω–∞:** `credentials: 'same-origin'` –≤ sync.js –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –æ—Ç–ø—Ä–∞–≤–∫—É cookies  
**–†–µ—à–µ–Ω–∏–µ:** –ò–∑–º–µ–Ω–µ–Ω–æ –Ω–∞ `credentials: 'include'`

### 2. ‚ùå –†–∞–∑–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –≤–µ–± –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏
**–ü—Ä–∏—á–∏–Ω–∞:** –í–µ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –∫–ª—é—á `vuexyTodoState`, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ - `vuexyTodoState:efimzer@gmail.com`  
**–†–µ—à–µ–Ω–∏–µ:** –£–±—Ä–∞–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ email –∫ –∫–ª—é—á—É storage

### 3. ‚ùå –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–ª–æ—Å—å –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
**–ü—Ä–∏—á–∏–Ω–∞:** Fallback –≤ background.js —Å–æ–∑–¥–∞–≤–∞–ª –Ω–æ–≤—É—é –≤–∫–ª–∞–¥–∫—É  
**–†–µ—à–µ–Ω–∏–µ:** –£–±—Ä–∞–ª–∏ fallback, —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∫–∞–∫ side panel

---

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ:

### 1. scripts/sync.js
```javascript
// –ë–´–õ–û:
credentials: useAuthCookies ? 'include' : 'same-origin'

// –°–¢–ê–õ–û:
credentials: 'include'
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ–ø–µ—Ä—å cookies –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å –∫–∞–∂–¥—ã–º –∑–∞–ø—Ä–æ—Å–æ–º, backend –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã.

### 2. scripts/sidepanel.js
```javascript
// –ë–´–õ–û:
async function bootstrapAuthContext(userIdentifier) {
  const userKey = normalizeUserKey(userIdentifier);
  storageKey = userKey ? `${STORAGE_KEY}:${userKey}` : STORAGE_KEY;
  cleanupLocalState(storageKey);
}

// –°–¢–ê–õ–û:
async function bootstrapAuthContext(userIdentifier) {
  // –í –≤–µ–±-–≤–µ—Ä—Å–∏–∏ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º email –∫ –∫–ª—é—á—É
  // –í —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–¥–∏–Ω –æ–±—â–∏–π –∫–ª—é—á (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ backend)
  storageKey = STORAGE_KEY;
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ò –≤–µ–±, –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω –∫–ª—é—á `vuexyTodoState`, –¥–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ backend.

### 3. background.js
```javascript
// –ë–´–õ–û:
if (chrome.sidePanel && tab?.windowId !== undefined) {
  try {
    await chrome.sidePanel.open({ windowId: tab.windowId });
    return;
  } catch (error) {
    console.warn('Unable to open side panel:', error);
  }
}
// Fallback: open the UI in a new tab
chrome.tabs.create({ url: chrome.runtime.getURL('sidepanel.html') });

// –°–¢–ê–õ–û:
if (chrome.sidePanel && tab?.windowId !== undefined) {
  try {
    await chrome.sidePanel.open({ windowId: tab.windowId });
  } catch (error) {
    console.warn('Unable to open side panel:', error);
  }
}
// Fallback —É–±—Ä–∞–Ω
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∫–∞–∫ side panel, –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –Ω–æ–≤—ã—Ö –≤–∫–ª–∞–¥–∫–∞—Ö.

---

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–µ–ø–µ—Ä—å:

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        Backend                          ‚îÇ
‚îÇ              (task-man-rf22.onrender.com)               ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ  ‚Ä¢ –•—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è                          ‚îÇ
‚îÇ  ‚Ä¢ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ cookies                        ‚îÇ
‚îÇ  ‚Ä¢ Endpoint /state (GET/PUT)                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ                  ‚îÇ
         credentials: 'include'       ‚îÇ
                   ‚îÇ                  ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ    –í–µ–±-–≤–µ—Ä—Å–∏—è      ‚îÇ  ‚îÇ   –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ      ‚îÇ
        ‚îÇ                    ‚îÇ  ‚îÇ                    ‚îÇ
        ‚îÇ  localStorage:     ‚îÇ  ‚îÇ  chrome.storage:  ‚îÇ
        ‚îÇ  vuexyTodoState    ‚îÇ  ‚îÇ  vuexyTodoState   ‚îÇ
        ‚îÇ                    ‚îÇ  ‚îÇ                    ‚îÇ
        ‚îÇ  Cookie:           ‚îÇ  ‚îÇ  Cookie (copy):   ‚îÇ
        ‚îÇ  todo_token        ‚îÇ  ‚îÇ  todo_token       ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ                  ‚îÇ
                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                    –û–¥–Ω–∏ –∏ —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ!
```

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö:

**1. –í—Ö–æ–¥ –≤ –≤–µ–±-–≤–µ—Ä—Å–∏—é:**
```
1. POST /api/auth/login
2. Backend ‚Üí —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç cookie todo_token
3. Background.js ‚Üí —Å–ª—É—à–∞–µ—Ç cookie.onChanged
4. Background.js ‚Üí –∫–æ–ø–∏—Ä—É–µ—Ç cookie –≤ chrome.storage
5. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω–æ ‚úÖ
```

**2. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –≤ –≤–µ–±:**
```
1. –ó–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞–Ω–∞ ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ localStorage (vuexyTodoState)
2. Sync manager ‚Üí PUT /state (credentials: 'include')
3. Backend ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
4. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ ‚Üí GET /state –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫
5. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ ‚Üí –ø–æ–ª—É—á–∞–µ—Ç –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
6. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç UI ‚úÖ
```

**3. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏:**
```
1. –ó–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞–Ω–∞ ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ chrome.storage (vuexyTodoState)
2. Sync manager ‚Üí PUT /state —Å cookie –∏–∑ chrome.storage
3. Backend ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
4. –í–µ–± ‚Üí GET /state –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫
5. –í–µ–± ‚Üí –ø–æ–ª—É—á–∞–µ—Ç –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
6. –í–µ–± ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç UI ‚úÖ
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –í—Ö–æ–¥ –≤ –≤–µ–± ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://task-man-rf22.onrender.com/auth
2. –í–æ–π–¥–∏—Ç–µ (efimzer@gmail.com)
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ (–∏–∫–æ–Ω–∫–∞ –≤ toolbar)
4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã, –≤–∏–¥–Ω—ã —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:**
- –í–µ–± –∫–æ–Ω—Å–æ–ª—å: `document.cookie` –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å `todo_token`
- Background.js: `üç™ Cookie changed`, `‚úÖ Found cookie`
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–æ–Ω—Å–æ–ª—å: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ–∫–µ–Ω –≤ storage

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á –≤–µ–± ‚Üí —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

1. –í –≤–µ–±-–≤–µ—Ä—Å–∏–∏ —Å–æ–∑–¥–∞–π—Ç–µ –∑–∞–¥–∞—á—É "Test from web"
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5 —Å–µ–∫—É–Ω–¥
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ó–∞–¥–∞—á–∞ "Test from web" –≤–∏–¥–Ω–∞

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:**
- –í–µ–± –∫–æ–Ω—Å–æ–ª—å: `PUT /state` —É—Å–ø–µ—à–µ–Ω (200)
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–æ–Ω—Å–æ–ª—å: `GET /state` —É—Å–ø–µ—à–µ–Ω (200)
- Network tab: –æ—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ ‚Üí –≤–µ–±

1. –í —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ —Å–æ–∑–¥–∞–π—Ç–µ –∑–∞–¥–∞—á—É "Test from extension"
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5 —Å–µ–∫—É–Ω–¥
3. –û–±–Ω–æ–≤–∏—Ç–µ –≤–µ–±-–≤–µ—Ä—Å–∏—é (F5)
4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ó–∞–¥–∞—á–∞ "Test from extension" –≤–∏–¥–Ω–∞

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 4: Side panel —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

1. –û—Ç–∫—Ä–æ–π—Ç–µ Chrome
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤ toolbar
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è side panel —Å–ø—Ä–∞–≤–∞, –ù–ï –Ω–æ–≤–∞—è –≤–∫–ª–∞–¥–∫–∞

---

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

### Polling –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
```javascript
// sync-config.js
pullIntervalMs: 5000  // 5 —Å–µ–∫—É–Ω–¥
```

–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ! –¢–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:
- –ö–∞–∂–¥—ã–µ 5 —Å–µ–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –ö–∞–∂–¥—ã–µ 5 —Å–µ–∫ –≤–µ–± –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ª–æ–∫–∞–ª—å–Ω–æ ‚Üí push —á–µ—Ä–µ–∑ 500ms (debounce)

**–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:**
- –£–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 10000 (10 —Å–µ–∫) –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞
- –£–º–µ–Ω—å—à–∏—Ç—å –¥–æ 2000 (2 —Å–µ–∫) –¥–ª—è –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### –ö–ª—é—á storage
–¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–µ–¥–∏–Ω—ã–π –∫–ª—é—á** `vuexyTodoState` –¥–ª—è:
- –í–µ–± localStorage
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ chrome.storage
- Backend —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- ‚úÖ –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∫–ª—é—á–µ–π
- ‚úÖ Backend - –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã

**–í–∞–∂–Ω–æ:** LocalStorage –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –ø–æ –¥–æ–º–µ–Ω—É, –ø–æ—ç—Ç–æ–º—É —Ä–∞–∑–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–∞ –æ–¥–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç.

---

## –û—Ç–ª–∞–¥–∫–∞:

### –ï—Å–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

**1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ cookie:**
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –≤–µ–±
document.cookie
// –î–æ–ª–∂–Ω–æ: "todo_token=..."
```

**2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ network –∑–∞–ø—Ä–æ—Å—ã:**
```javascript
// –í Network tab –≤–µ–±
GET /state ‚Üí Status 200 (–Ω–µ 401, –Ω–µ HTML)
PUT /state ‚Üí Status 200

// –ü—Ä–æ–≤–µ—Ä—å—Ç–µ headers:
Request Headers ‚Üí Cookie: todo_token=...
Request Headers ‚Üí Authorization: Bearer ...
```

**3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ chrome.storage:**
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
chrome.storage.local.get(['vuexyTodoState', 'todoAuthToken'], console.log)
```

**4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ background.js:**
```
chrome://extensions ‚Üí GoFimaGo! ‚Üí service worker ‚Üí Console
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –±–µ–∑ –æ—à–∏–±–æ–∫.

---

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:

- ‚úÖ `/scripts/sync.js` - credentials: 'include'
- ‚úÖ `/scripts/sidepanel.js` - –µ–¥–∏–Ω—ã–π –∫–ª—é—á storage
- ‚úÖ `/background.js` - —É–±—Ä–∞–Ω fallback –Ω–∞ tabs

---

**–í–µ—Ä—Å–∏—è:** 1.0.1  
**–î–∞—Ç–∞:** 2025-09-30  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
