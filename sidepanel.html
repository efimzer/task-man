<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Todo</title>
    <link rel="stylesheet" href="styles/theme-light.css" />
    <link rel="stylesheet" href="styles/theme-dark.css" />
    <link rel="stylesheet" href="styles/app.css" />
  </head>
  <body>
    <div class="app-shell">
      <section id="screenFolders" class="screen screen-folders is-active">
        <header class="screen-header">
          <h1 class="screen-title">To Do</h1>
          <button class="icon-button primary app-menu-button" aria-label="Меню приложения" type="button">⋮</button>
        </header>
        <ul id="folderList" class="card-list" role="list"></ul>
      </section>

      <section id="screenTasks" class="screen screen-tasks" aria-live="polite">
        <header class="tasks-header">
          <button id="backToFolders" class="back-button" aria-label="Назад к списку папок"><span class="back-icon"></span></button>
          <div class="tasks-heading">
            <h2 id="tasksHeaderTitle" class="tasks-title">Задачи</h2>
          </div>
          <button class="icon-button primary app-menu-button" aria-label="Меню приложения" type="button">⋮</button>
        </header>
        <div class="tasks-scroll">
          <ul id="taskList" class="task-list" role="list"></ul>
          <div id="emptyState" class="empty-state">
            <p class="empty-message">Задач пока нет</p>
          </div>
        </div>
      </section>
    </div>

    <template id="folderTemplate">
      <li class="entry-card folder-item" data-folder-id="" tabindex="0" role="button">
        <div class="folder-content">
          <span class="folder-name"></span>
          <span class="folder-count badge"></span>
        </div>
        <button class="folder-menu-button" aria-label="Дополнительные действия" type="button">⋮</button>
      </li>
    </template>

    <template id="taskTemplate">
      <li class="entry-card task-item" data-task-id="" draggable="true">
        <span class="drag-handle" role="presentation" aria-hidden="true">⋮⋮</span>
        <label class="checkbox">
          <input type="checkbox" aria-label="Отметить задачу выполненной" />
          <span class="checkbox-visual"></span>
        </label>
        <div class="task-body">
          <span class="task-title" tabindex="0"></span>
          <span class="task-folder-label"></span>
        </div>
        <button class="icon-button primary task-remove" aria-label="Удалить задачу из архива" type="button"><span class="icon-plus icon-plus-rotate">＋</span></button>
      </li>
    </template>

    <div id="folderMenu" class="folder-menu hidden" role="menu">
      <button type="button" class="folder-menu-item" data-action="rename">Переименовать</button>
      <button type="button" class="folder-menu-item" data-action="delete">Удалить</button>
    </div>

    <div id="appMenu" class="folder-menu app-menu hidden" role="menu">
      <button type="button" id="logoutAction" class="folder-menu-item">Выйти</button>
    </div>

    <div id="modalBackdrop" class="modal-backdrop hidden"></div>
    <section id="folderModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="folderModalTitle">
      <div class="modal-card">
        <header class="modal-header">
          <h2 id="folderModalTitle" class="modal-title">Новая папка</h2>
        </header>
        <form id="folderModalForm" class="modal-body" autocomplete="off">
          <label class="field">
            <input id="folderModalInput" type="text" class="input" maxlength="60" />
          </label>
          <footer class="modal-actions">
            <button type="button" id="folderModalCancel" class="ghost-button">Отмена</button>
            <button type="submit" class="primary-button">Сохранить</button>
          </footer>
        </form>
      </div>
    </section>

    <button id="floatingActionButton" class="fab" type="button" aria-label="Добавить">＋</button>

    <script type="module" src="scripts/sidepanel.js"></script>
  </body>
</html>
